# Adapt EMT_ROOT on windows
INCLUDEPATH += $$(BOOST_ROOT)
LIBS += -L$$(BOOST_ROOT)/stage/lib
INCLUDEPATH += $$(LIBED2K_ROOT)/include

CONFIG(debug, debug|release) {
LIBS += -L$$(LIBED2K_ROOT)/Debug/
} else {
LIBS += -L$$(LIBED2K_ROOT)/Release/
}

DEFINES += "\"BUILDDATE=\\\"$$system(date /t && time /t)\\\"\""

# LIBED2K DEFINES
DEFINES += BOOST_ALL_NO_LIB
DEFINES += BOOST_ASIO_HASH_MAP_BUCKETS=1021
DEFINES += BOOST_EXCEPTION_DISABLE
DEFINES += BOOST_SYSTEM_STATIC_LINK=1
DEFINES += BOOST_THREAD_USE_LIB
DEFINES += BOOST_THREAD_USE_LIB=1
DEFINES += TORRENT_USE_OPENSSL
DEFINES += UNICODE
DEFINES += WIN32
DEFINES += WIN32_LEAN_AND_MEAN
DEFINES += _CRT_SECURE_NO_DEPRECATE
DEFINES += _FILE_OFFSET_BITS=64
DEFINES += _SCL_SECURE_NO_DEPRECATE
DEFINES += _UNICODE
DEFINES += _WIN32
DEFINES += BOOST_ASIO_SEPARATE_COMPILATION
DEFINES += LIBED2K_USE_BOOST_DATE_TIME

win7 {
  DEFINES += _WIN32_WINNT=0x0601
} else:wista {
  DEFINES += _WIN32_WINNT=0x0600
} else {
  DEFINES += _WIN32_WINNT=0x0500
}


DEFINES += _WIN32_IE=0x0500
DEFINES += __USE_W32_SOCKETS
DEFINES += WITH_SHIPPED_GEOIP_H

CONFIG(debug, debug|release) {
  DEFINES += LIBED2K_DEBUG
} else {
  DEFINES += NDEBUG
}

CONFIG(win7) {
  DEFINES += WIN7_SDK
}

include(conf-msvc.pri)

DEFINES += WITH_GEOIP_EMBEDDED
message("On Windows, GeoIP database must be embedded.")
